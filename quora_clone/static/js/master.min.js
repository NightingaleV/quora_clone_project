function getCookie(t){var e=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),o=0;o<n.length;o++){var s=jQuery.trim(n[o]);if(s.substring(0,t.length+1)===t+"="){e=decodeURIComponent(s.substring(t.length+1));break}}return e}var csrftoken=getCookie("csrftoken");function csrfSafeMethod(t){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(t)}$.ajaxSetup({beforeSend:function(t,e){csrfSafeMethod(e.type)||this.crossDomain||t.setRequestHeader("X-CSRFToken",csrftoken)}}),$(document).on("click",".subscription > .button",function(){event.preventDefault();var e=$(this),n=$(this).attr("data-topic-id"),o=$(this).closest(".topic").find(".subs-counter"),s=$(this).find(".icon"),i=$(this).find(".text"),c=parseInt(o.text());$.ajax({type:"POST",url:"/topics/",data:{topic_id:n},success:function(t){console.log(t),"subscribed"===t.status?(c+=1,o.text(c),i.text("Unsubscribe"),e.removeClass("subscribe red"),e.addClass("unsubscribe"),s.removeClass("plus"),s.addClass("minus"),$(".interest.modal .rating").attr("data-topic-id",n),$(".knowledge.modal .rating").attr("data-topic-id",n),$(".interest.modal").modal("show")):"unsubscribed"===t.status?(c-=1,o.text(c),e.removeClass("unsubscribe"),i.text("Subscribe"),e.addClass("subscribe red"),s.removeClass("minus"),s.addClass("plus")):console.log("we Fail")},error:function(t){}})}),$(document).ready(function(){$(".second.modal").modal("attach events",".first .icon"),$(".second .rating").click(function(){$(".second.modal").modal("hide")})}),$(document).ready(function(){$(".rating").rating(),$(".rating").click(function(){console.log($(this).rating("get rating"))})}),$(document).ready(function(){$(".second.modal").modal("attach events",".first .icon"),$(".second .rating").click(function(){$(".second.modal").modal("hide")})}),$(document).ready(function(){$(".rating").rating(),$(".rating").click(function(){console.log($(this).rating("get rating"))})}),$(".message .close").on("click",function(){$(this).closest(".message").transition("fade")}),$(document).ready(function(){$(".menu .item").tab({history:!1})});