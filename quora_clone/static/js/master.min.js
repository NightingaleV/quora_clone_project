"use strict";function getCookie(t){var e=null;if(document.cookie&&""!==document.cookie)for(var o=document.cookie.split(";"),n=0;n<o.length;n++){var i=jQuery.trim(o[n]);if(i.substring(0,t.length+1)===t+"="){e=decodeURIComponent(i.substring(t.length+1));break}}return e}var csrftoken=getCookie("csrftoken");function csrfSafeMethod(t){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(t)}$.ajaxSetup({beforeSend:function(t,e){csrfSafeMethod(e.type)||this.crossDomain||t.setRequestHeader("X-CSRFToken",csrftoken)}}),$(document).ready(function(){$(document).on("click",".subscription > .button",function(){event.preventDefault();var i=$(this),s=$(this).attr("data-topic-id"),a=$(this).closest(".topic").find(".subs-counter"),r=$(this).find(".icon"),c=$(this).find(".text"),d=parseInt(a.text());$.ajax({type:"POST",url:"/topics/",data:{topic_id:s},success:function(t){var e,o,n;console.log(t),"subscribed"===t.status?(d+=1,a.text(d),c.text("Unsubscribe"),i.removeClass("subscribe red"),i.addClass("unsubscribe"),r.removeClass("plus"),r.addClass("minus"),e=s,o=$(".interest.modal .rating"),n=$(".knowledge.modal .rating"),o.attr("data-topic-id",e),o.attr("data-rating",0),o.rating("clear rating"),n.attr("data-topic-id",e),n.attr("data-rating",0),n.rating("clear rating"),$(".interest.modal").modal("show")):"unsubscribed"===t.status?(d-=1,a.text(d),i.removeClass("unsubscribe"),c.text("Subscribe"),i.addClass("subscribe red"),r.removeClass("minus"),r.addClass("plus")):console.log("we Fail")},error:function(t){}})}),$(".second.modal").modal("attach events",".first .icon"),$(".second .rating").click(function(){$(".second.modal").modal("hide")})}),$(document).ready(function(){$(".rating").rating()}),$(document).on("click",".modal.interest .rating",function(){var t=$(this).attr("data-topic-id");console.log(t);var e=$(this).rating("get rating");console.log(e),$.ajax({type:"POST",url:"/topics/",data:{interest_rating:e,topic_id:t},success:function(t){console.log(t),"rating_saved"===t.status||console.log("we Fail")},error:function(t){}})}),$(document).on("click",".modal.knowledge .rating",function(){var t=$(this).attr("data-topic-id");console.log(t);var e=$(this).rating("get rating");console.log(e),$.ajax({type:"POST",url:"/topics/",data:{knowledge_rating:e,topic_id:t},success:function(t){console.log(t),"rating_saved"===t.status||console.log("we Fail")},error:function(t){}})}),$(".ui.accordion").accordion({selector:{accordion:".answer .accordion",title:".preview",trigger:".preview",content:".content"},debug:!0,duration:1,onOpen:function(){console.log($(this)),$(this).closest(".answer").find(".preview").hide()}}),$(".message .close").on("click",function(){$(this).closest(".message").transition("fade")}),$(document).ready(function(){$(".menu .item").tab({history:!1})});