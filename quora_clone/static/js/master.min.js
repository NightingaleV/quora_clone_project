function getCookie(t){var e=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var s=jQuery.trim(n[i]);if(s.substring(0,t.length+1)===t+"="){e=decodeURIComponent(s.substring(t.length+1));break}}return e}var csrftoken=getCookie("csrftoken");function csrfSafeMethod(t){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(t)}$.ajaxSetup({beforeSend:function(t,e){csrfSafeMethod(e.type)||this.crossDomain||t.setRequestHeader("X-CSRFToken",csrftoken)}}),$(".btn-subscribe").on("click",function(){event.preventDefault();var t=$(this).attr("data-topic-id"),e=$(this).closest(".tab-topic").find(".subscribers-counter"),n=$(this).find(".subscribe-text"),i=parseInt(e.text());$.ajax({type:"POST",url:"/topics/subscribe/",data:{topic_id:t},success:function(t){if("subscribed"===t.status)i+=1,e.text(i),n.text("Unsubscribe");else{if("unsubscribed"!==t.status)return null;i-=1,e.text(i),n.text("Subscribe")}},error:function(t){}})}),$(".btn-subscribe").click(function(){$(".first.modal").modal("show"),$(".second.modal").modal("attach events",".first .icon")}),$(document).ready(function(){$(".rating").rating(),$(".rating").click(function(){console.log($(this).rating("get rating"))})}),$(".second .rating").click(function(){$(".second.modal").modal("hide")}),$(".message .close").on("click",function(){$(this).closest(".message").transition("fade")}),$(document).ready(function(){$(".menu .item").tab({history:!1})});