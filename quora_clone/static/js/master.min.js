function getCookie(t){var e=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),o=0;o<n.length;o++){var i=jQuery.trim(n[o]);if(i.substring(0,t.length+1)===t+"="){e=decodeURIComponent(i.substring(t.length+1));break}}return e}var csrftoken=getCookie("csrftoken");function csrfSafeMethod(t){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(t)}$.ajaxSetup({beforeSend:function(t,e){csrfSafeMethod(e.type)||this.crossDomain||t.setRequestHeader("X-CSRFToken",csrftoken)}}),$(".btn-subscribe").on("click",function(){event.preventDefault();var t=$(this).attr("data-topic-id"),e=$(this).closest(".tab-topic").find(".subscribers-counter"),n=$(this).find(".subscribe-text"),o=parseInt(e.text());$.ajax({type:"POST",url:"/topics/",data:{topic_id:t},success:function(t){if(console.log(t),"subscribed"===t.status)o+=1,e.text(o),n.text("Unsubscribe");else{if("unsubscribed"!==t.status)return null;o-=1,e.text(o),n.text("Subscribe")}},error:function(t){}})}),$(".btn-subscribe").click(function(){$(".first.modal").modal("show"),$(".second.modal").modal("attach events",".first .icon")}),$(document).ready(function(){$(".rating").rating(),$(".rating").click(function(){console.log($(this).rating("get rating"))})}),$(".second .rating").click(function(){$(".second.modal").modal("hide")}),$(".message .close").on("click",function(){$(this).closest(".message").transition("fade")}),$(document).ready(function(){$(".menu .item").tab({history:!1})});